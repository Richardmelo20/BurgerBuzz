import{_ as v,M as b,c as d,w as f,a as y,b as t,v as $,d as m,r as g,F as p,e as h,o as c,t as r,p as C,f as S}from"./index-PrIfueWy.js";const q={name:"Dashboard",data(){return{burgers:null,burger_id:null,status:[],msg:null}},components:{Message:b},methods:{async getPedidos(){const a=await(await fetch("http://localhost:3000/burgers")).json();this.burgers=a,this.getStatus()},async getStatus(){const a=await(await fetch("http://localhost:3000/status")).json();this.status=a},async deleteBurger(s){const l=await(await fetch(`http://localhost:3000/burgers/${s}`,{method:"DELETE"})).json();console.log(l),this.msg="Pedido removido com sucesso",setTimeout(()=>{this.msg=""},3e3),this.getPedidos()},async updateBurger(s,a){const l=s.target.value,_=JSON.stringify({status:l}),i=await(await fetch(`http://localhost:3000/burgers/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:_})).json();console.log(i),this.msg=`O pedido Nº ${i.id} foi atualizado para ${i.status}`,setTimeout(()=>{this.msg=""},3e3)}},mounted(){this.getPedidos()}},k=s=>(C("data-v-c07dd043"),s=s(),S(),s),B={class:"table"},P=y('<div data-v-c07dd043><div class="table__heading" data-v-c07dd043><div class="table__heading__order-id" data-v-c07dd043> # </div><div class="product" data-v-c07dd043> Cliente: </div><div class="product" data-v-c07dd043> Pão: </div><div class="product" data-v-c07dd043> Carne: </div><div class="product" data-v-c07dd043> Opcionais: </div><div class="product" data-v-c07dd043> Ações: </div></div></div>',1),j={class:"table__rows"},N={class:"table__rows__row__order-number"},T={class:"product"},x={class:"product"},D={class:"product"},E={class:"product"},I={class:"product"},O=["onChange"],V=k(()=>t("option",{value:""}," Selecionar ",-1)),A=["value","selected"],F=["onClick"];function J(s,a,l,_,n,i){const u=g("message");return c(),d("div",B,[f(m(u,{msg:n.msg},null,8,["msg"]),[[$,n.msg]]),P,t("div",j,[(c(!0),d(p,null,h(n.burgers,e=>(c(),d("div",{class:"table__rows__row",key:e.id},[t("div",N,r(e.id),1),t("div",T,r(e.name),1),t("div",x,r(e.pao),1),t("div",D,r(e.carne),1),t("div",E,[t("ul",null,[(c(!0),d(p,null,h(e.opcionais,(o,w)=>(c(),d("li",{key:w},r(o),1))),128))])]),t("div",I,[t("select",{name:"status",class:"table__status",onChange:o=>i.updateBurger(o,e.id)},[V,(c(!0),d(p,null,h(n.status,o=>(c(),d("option",{key:o.id,value:o.tipo,selected:e.status==o.tipo},r(o.tipo),9,A))),128))],40,O),t("button",{class:"table__button",onClick:o=>i.deleteBurger(e.id)}," Cancelar ",8,F)])]))),128))])])}const L=v(q,[["render",J],["__scopeId","data-v-c07dd043"]]),M={name:"Pedidos",components:{dashboard:L}},z={class:"main-container"},G=t("h1",{class:"main-container__title"}," Gerenciar pedidos: ",-1);function H(s,a,l,_,n,i){const u=g("dashboard");return c(),d("div",z,[G,m(u)])}const Q=v(M,[["render",H]]);export{Q as default};
