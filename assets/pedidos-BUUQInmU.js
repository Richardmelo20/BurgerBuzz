import{_ as h,M as w,c as o,w as f,a as y,b as t,v as C,d as m,r as g,F as p,e as v,o as d,t as c}from"./index-BYLYGKZQ.js";const $={name:"Dashboard",data(){return{burgers:null,burger_id:null,status:[],msg:null}},components:{Message:w},methods:{async getPedidos(){const s=await(await fetch("https://burger-buzz.vercel.app/burgers")).json();this.burgers=s,this.getStatus()},async getStatus(){const s=await(await fetch("https://burger-buzz.vercel.app/status")).json();this.status=s},async deleteBurger(n){const l=await(await fetch(`https://burger-buzz.vercel.app/burgers/${n}`,{method:"DELETE"})).json();console.log(l),this.msg="Pedido removido com sucesso",setTimeout(()=>{this.msg=""},3e3),this.getPedidos()},async updateBurger(n,s){const l=n.target.value,u=JSON.stringify({status:l}),i=await(await fetch(`https://burger-buzz.vercel.app/burgers/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:u})).json();console.log(i),this.msg=`O pedido Nº ${i.id} foi atualizado para ${i.status}`,setTimeout(()=>{this.msg=""},3e3)}},mounted(){this.getPedidos()}},z={class:"table"},q={class:"table__rows"},k={class:"table__rows__row__order-number"},B={class:"product"},P={class:"product"},S={class:"product"},j={class:"product"},N={class:"product"},T=["onChange"],x=["value","selected"],D=["onClick"];function E(n,s,l,u,r,i){const _=g("message");return d(),o("div",z,[f(m(_,{msg:r.msg},null,8,["msg"]),[[C,r.msg]]),s[1]||(s[1]=y('<div data-v-12254214><div class="table__heading" data-v-12254214><div class="table__heading__order-id" data-v-12254214> # </div><div class="product" data-v-12254214> Cliente: </div><div class="product" data-v-12254214> Pão: </div><div class="product" data-v-12254214> Carne: </div><div class="product" data-v-12254214> Opcionais: </div><div class="product" data-v-12254214> Ações: </div></div></div>',1)),t("div",q,[(d(!0),o(p,null,v(r.burgers,e=>(d(),o("div",{class:"table__rows__row",key:e.id},[t("div",k,c(e.id),1),t("div",B,c(e.name),1),t("div",P,c(e.pao),1),t("div",S,c(e.carne),1),t("div",j,[t("ul",null,[(d(!0),o(p,null,v(e.opcionais,(a,b)=>(d(),o("li",{key:b},c(a),1))),128))])]),t("div",N,[t("select",{name:"status",class:"table__status",onChange:a=>i.updateBurger(a,e.id)},[s[0]||(s[0]=t("option",{value:""}," Selecionar ",-1)),(d(!0),o(p,null,v(r.status,a=>(d(),o("option",{key:a.id,value:a.tipo,selected:e.status==a.tipo},c(a.tipo),9,x))),128))],40,T),t("button",{class:"table__button",onClick:a=>i.deleteBurger(e.id)}," Cancelar ",8,D)])]))),128))])])}const O=h($,[["render",E],["__scopeId","data-v-12254214"]]),V={name:"Pedidos",components:{dashboard:O}},A={class:"main-container"};function F(n,s,l,u,r,i){const _=g("dashboard");return d(),o("div",A,[s[0]||(s[0]=t("h1",{class:"main-container__title"}," Gerenciar pedidos: ",-1)),m(_)])}const L=h(V,[["render",F]]);export{L as default};
